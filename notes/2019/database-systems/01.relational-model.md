# 01 Relational Data Model

# Database

- 현실의 관점으로 모델링한 상호 연관된 데이터의 조직적 집합
- 데이터베이스는 컴퓨터 어플리케이션 구성의 핵심적인 부분 중 하나이다

## Database Example

- 앨범의 음반을 보관하기 위한 데이터베이스 모델 생성 예시
    - 저장을 위해 필요한 정보
        - 아티스트의 정보
        - 아티스트가 발매한 앨범 정보

## Flat File Strawman

Comma-Separated Value (CSV) 파일 기반의 데이터베이스를 프로그램으로 관리하면

- 각 개체(Entity)당 파일을 분리시킨다.
- 프로그램은 각각의 파일을 레코드가 읽히거나 업데이트되는 시간에 파싱해야 한다.

위의 예제를 바탕으로 모델을 구성하면 다음과 같다.

```py
Artist(name, year, country)
"Wu Tang clan",1992,"USA"
"Notorious BIG",1992,"USA"
"Ice Cube",1992,"USA"

Album(name, artist, year)
"Enter the Wu Tang","Wu Tang Clan",1993
"St.Ides Mix Tape","Wu Tang Clan",1994
"AmeriKKKa's Most Wanted","Ice Cube",1990

# 여기서 "Ice Cube"를 탐색하려면 다음과 같은 코드가 작성된다.
for line in file:
    record = parse(line)
    if "Ice Cube" == record[0]:
        print(int(record[0]))
```

위의 데이터베이스 모델에서 몇가지 의문점을 찾을 수 있다.

## Flat Files: 데이터 무결성 (Data Integrity)

- 어떻게 각각의 앨범 정보 앞에 있는 `Artist` 가 같은 `Artist` 라 확신할 수 있는가?
- 누군가 Invalid string으로 앨범의 `year`을 overwrite 하면 어떻게 되는가?
- 어떻게 여러 `Artist` 로 앨범을 저장할 수 있는가?

## Flat Files: 구현 (Implementation)

- 어떻게 각각의 레코드들을 찾아야 하는가?
- 같은 데이터베이스를 사용하는 새로운 프로그램을 만들기를 원하면?
- 두개의 쓰레드가 동시에 같은 파일을 Write 하려 시도하면 어떻게 되는가?

## Flat Files: 내구성 (Durability)

- 만약 프로그램이 레코드를 업데이트 하는 도중 기계가 고장이 나면?
- 고 가용성(High Availability)를 위해 여러 장치에 데이터베이스를 복제하려면?

# Database Management System (DBMS)

- DBMS는 데이터베이스 정보를 저장하고 가공 및 분석을 가능하게 하는 소프트웨어이다.
- 일반적으로 상용화된 DBMS는 정의(definition), 생성(creation), 검색(querying), 수정(update), 데이터베이스에 대한 관리를 가능하게 하도록 설계되어있다.

## Entry DBMSs

- 데이터베이스를 사용하는 애플리케이션은 개발과 유지보수가 어렵다.
- **논리적 계층(어떤 정보를 저장하는가)** 과 **물리적 계층(어떤 형태로 저장되는가)** 간의 긴밀한 결합이 필요하다.
- 데이터베이스를 배포하기 전 애플리케이션이 어떤 쿼리를 실행하는지 대략적이라도 숙지해야 한다.

## Data Model

데이터 모델(Data Model)은 데이터베이스 상에서 데이터를 기술(describing)하기 위한 컨셉의 집합이다.

스키마(Schema)는 각각의 데이터 집합에 대한 기술로, 제공되는 데이터 모델을 활용하여 구성된다.

**데이터 모델의 예시**

- Relational
    - 대부분의 DBMS
- NoSQL
    - Key/Value
    - Graph
    - Document
    - Column-family
- Array/Matrix
    - Machine Learning 에 주로 이용
- Hierarchical
- Network

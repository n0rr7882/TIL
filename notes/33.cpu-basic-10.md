# CPU 기초

## 서브루틴(Subroutine)

### 서브루틴 호출 명령어(Subroutine Call)

> 한 블록으로 구성된 명령어 실행 중에 또 다른 블록으로 구성된 명령어를 삽입하여 실행하기를 원하는 형태로 프로그램을 구성할 때 사용하는 명령어로서, 호출과 복귀 명령어가 함께 사용된다.

* **호출 명령어(CALL 명령어)**
    * 현재의 PC 내용을 스택에 저장하고, 그 PC에는 호출될 서브루틴의 시작 주소를 저장함으로써 원하는 서브루틴의 주소로 분기하는 명령어이다.

* **복귀 명령어(RET 명령어)**
    * CPU가 분기하기 전 실행하던 프로그램으로 되돌아가도록 하는 명령어이다.
    * 즉, 스택에 저장되어 있던 주소 값을 PC로 복원하여 저장함으로써 CALL 명령어의 바로 다음 주소로 되돌아가게 하는 명령어이다.

* 단순히 실행 순서만 변경할 때는 분기 명령어라고 한다.
